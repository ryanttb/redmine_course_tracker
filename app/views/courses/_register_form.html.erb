<h3>Register for an Account</h3>
<span class="required">*</span> Required
<% form_tag({:action => 'register'}, :class => "tabular") do %>
<%= error_messages_for 'user' %>

<div class="box">

<% if @user.auth_source_id.nil? %>
<p><label for="user_login">Username <span class="required">*</span></label>
<%= text_field 'user', 'login', :size => 25 %><br />
<em>No spaces, maximum 30 characters.</em></p>

<p><label for="password"><%=l(:field_password)%> <span class="required">*</span></label>
<%= password_field_tag 'password', nil, :size => 25  %><br />
<em><%= l(:text_caracters_minimum, :count => Setting.password_min_length) %></em></p>

<p><label for="password_confirmation">Confirm Password <span class="required">*</span></label>
<%= password_field_tag 'password_confirmation', nil, :size => 25  %></p>
<% end %>

<p><label for="user_firstname"><%=l(:field_firstname)%> <span class="required">*</span></label>
<%= text_field 'user', 'firstname'  %></p>

<p><label for="user_lastname"><%=l(:field_lastname)%> <span class="required">*</span></label>
<%= text_field 'user', 'lastname'  %></p>

<p><label for="user_mail"><%=l(:field_mail)%> <span class="required">*</span></label>
<%= text_field 'user', 'mail'  %></p>

<%= hidden_field 'user', 'language', :value => 'en'  %></p>

<p></p>
<p><%= submit_tag "Register" %></p>
</div>

<% end %>